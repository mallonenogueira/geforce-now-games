{"version":3,"sources":["services/games.js","components/input/index.js","utils/format-label.js","components/header/index.js","components/ApplicationLoading.js","components/steam-link/index.js","components/label-value/index.js","components/card-game/index.js","components/Application.js","App.js","utils/debounce.js","index.js"],"names":["GameService","fetch","then","data","json","games","map","mapSteam","game","arguments","length","undefined","steam","steamUrl","_game$steamUrl$split","split","_game$steamUrl$split2","Object","slicedToArray","id","smallImageUrl","concat","imageUrl","objectSpread2","Input","_ref","label","onChange","value","_ref$className","className","react_default","a","createElement","htmlFor","formatLabel","charAt","toUpperCase","slice","replace","Header","title","mobileTitle","_ref$filters","filters","onChangeFilters","keys","field","alwaysVisible","key","e","target","ApplicationLoading","children","loading","WithoutSteamLink","src","alt","SteamLink","href","rel","steam_link_WithoutSteamLink","LabelValue","String","CardGame","_ref$parameters","parameters","Application","publisher","isFullyOptimized","genres","join","ApplicationEmpty","debounce","fn","wait","clearTimeout","setTimeout","createDebounce","App","_useState","useState","_useState2","setGames","_useState3","_useState4","fetching","setFetching","_useState5","_useState6","setLoading","_useState7","_useState8","filteredGames","setFilteredGames","_useState9","isFiltering","_useState10","setFilters","useEffect","fetchGames","dataGames","filter","filledKeys","find","toString","toLowerCase","includes","filtersByFilterObject","Fragment","[object Object]","rootElement","document","getElementById","ReactDOM","render"],"mappings":"qLAGqBA,4GAEjB,OAAOC,MAJT,4EAKKC,KAAK,SAACC,GAAD,OAAUA,EAAKC,SACpBF,KAAK,SAACG,GAAD,OAAWA,EAAMC,IAAIN,EAAYO,+CAGhB,IAAXC,EAAWC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACfG,EAAQ,GAEd,GAAIJ,EAAKK,SAAU,KAAAC,EACFN,EAAKK,SAASE,MAAM,SADlBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACdF,EAAMO,GADQH,EAAA,GAEjBJ,EAAMC,SAAWL,EAAKK,SACtBD,EAAMQ,cAAN,8CAAAC,OAAoET,EAAMO,GAA1E,uBACAP,EAAMU,SAAN,8CAAAD,OAA+DT,EAAMO,GAArE,eAGF,OAAOF,OAAAM,EAAA,EAAAN,QAAAM,EAAA,EAAAN,CAAA,GACFT,GADL,IAEEK,cAAUF,EACVC,MAAOA,EAAMO,GAAKP,EAAQ,gBCrBjB,SAASY,EAATC,GAA+D,IAA9CC,EAA8CD,EAA9CC,MAAOP,EAAuCM,EAAvCN,GAAIQ,EAAmCF,EAAnCE,SAAUC,EAAyBH,EAAzBG,MAAyBC,EAAAJ,EAAlBK,iBAAkB,IAAAD,EAAN,GAAMA,EAC5E,OACEE,EAAAC,EAAAC,cAAA,SAAOH,UAAS,SAAAT,OAAWS,GAAaI,QAASf,GAC/CY,EAAAC,EAAAC,cAAA,QAAMH,UAAU,eAAeJ,GAE/BK,EAAAC,EAAAC,cAAA,SACEH,UAAU,gBACVX,GAAIA,EACJQ,SAAUA,EACVC,MAAOA,KCXA,SAASO,IAAwB,IAAZT,EAAYjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAC1C,OACEiB,EAAMU,OAAO,GAAGC,cAAgBX,EAAMY,MAAM,GAAGC,QAAQ,WAAY,OCGxD,SAASC,EAATf,GAKZ,IAJDgB,EAIChB,EAJDgB,MACAC,EAGCjB,EAHDiB,YAGCC,EAAAlB,EAFDmB,eAEC,IAAAD,EAFS,GAETA,EADDE,EACCpB,EADDoB,gBAEA,OACEd,EAAAC,EAAAC,cAAA,UAAQH,UAAU,WAChBC,EAAAC,EAAAC,cAAA,MAAIH,UAAU,iBACZC,EAAAC,EAAAC,cAAA,OAAKH,UAAU,aAAaW,GAC5BV,EAAAC,EAAAC,cAAA,OAAKH,UAAU,qBAAqBY,IAGtCX,EAAAC,EAAAC,cAAA,OAAKH,UAAU,gBACZb,OAAO6B,KAAKF,GAAStC,IAAI,SAACyC,GAAD,OACxBhB,EAAAC,EAAAC,cAACT,EAAD,CACEM,UAAWc,EAAQG,GAAOC,cAAgB,GAAK,YAC/CC,IAAKF,EACL5B,GAAI4B,EACJrB,MAAOS,EAAYY,GACnBnB,MAAOgB,EAAQG,GAAOnB,MACtBD,SAAU,SAACuB,GAAD,OAAOL,EAAgBE,EAAOG,EAAEC,OAAOvB,cCxB9C,SAASwB,EAAT3B,GAAmD,IAArB4B,EAAqB5B,EAArB4B,SAC3C,OADgE5B,EAAX6B,QAE5CvB,EAAAC,EAAAC,cAAA,OAAKH,UAAU,wBAGjBuB,ECLT,IAGaE,EAAmB,kBAC9BxB,EAAAC,EAAAC,cAAA,OAAKH,UAAU,mBACbC,EAAAC,EAAAC,cAAA,OAAKH,UAAU,cAAc0B,IAJ/B,2EAIuDC,IAAI,OAI9C,SAASC,EAATjC,GAA8B,IAATb,EAASa,EAATb,MAClC,OAAKA,EAKHmB,EAAAC,EAAAC,cAAA,KACEH,UAAU,kBACV6B,KAAM/C,EAAMC,SACZsC,OAAO,SACPS,IAAI,uBAEJ7B,EAAAC,EAAAC,cAAA,OAAKH,UAAU,cAAc0B,IAAK5C,EAAMU,SAAUmC,IAAI,MAVjD1B,EAAAC,EAAAC,cAAC4B,EAAD,MCXI,SAASC,EAATrC,GAAsC,IAAhBC,EAAgBD,EAAhBC,MAAOE,EAASH,EAATG,MAC1C,OACEG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,QAAMH,UAAU,SAASJ,GACzBK,EAAAC,EAAAC,cAAA,QAAMH,UAAU,SAASiC,OAAOnC,KCAvB,SAASoC,EAATvC,GAA6D,IAAzCjB,EAAyCiB,EAAzCjB,KAAyCyD,EAAAxC,EAAnCyC,kBAAmC,IAAAD,EAAtB,GAAsBA,EAAApC,EAAAJ,EAAlBK,iBAAkB,IAAAD,EAAN,GAAMA,EAC1E,OACEE,EAAAC,EAAAC,cAAA,OAAKgB,IAAKzC,EAAKW,GAAIW,UAAS,aAAAT,OAAeS,IACzCC,EAAAC,EAAAC,cAACyB,EAAD,CAAW9C,MAAOJ,EAAKI,QAEvBmB,EAAAC,EAAAC,cAAA,OAAKH,UAAU,kBACZb,OAAO6B,KAAKoB,GAAY5D,IAAI,SAAC2C,GAC5B,OACElB,EAAAC,EAAAC,cAAC6B,EAAD,CACEb,IAAKA,EACLvB,MAAK,GAAAL,OAAKc,EAAYc,GAAjB,KACLrB,MAAOsC,EAAWjB,GAAKzC,EAAKyC,UCZ3B,SAASkB,EAAT1C,GAAyC,IAAlB6B,EAAkB7B,EAAlB6B,QAASjD,EAASoB,EAATpB,MAC7C,OACE0B,EAAAC,EAAAC,cAAA,QAAMH,UAAU,mBACdC,EAAAC,EAAAC,cAACmB,EAAD,CAAoBE,QAASA,KACxBjD,EAAMK,QACPL,EAAMC,IAAI,SAACE,GAAD,OACRuB,EAAAC,EAAAC,cAAA,OAAKH,UAAU,QAAQmB,IAAKzC,EAAKW,IAC/BY,EAAAC,EAAAC,cAAC+B,EAAD,CACExD,KAAMA,EACN0D,WAAY,CACVzB,MAAO,SAACb,GAAD,OAAWA,GAClBwC,UAAW,SAACxC,GAAD,OAAWA,GACtByC,iBAAkB,SAACzC,GAAD,OAAWA,GAC7B0C,OAAQ,SAAC1C,GAAD,OAAYA,EAAQA,EAAM2C,KAAK,MAAQ,WAKvDlE,EAAMK,QAAUqB,EAAAC,EAAAC,cAACuC,EAAD,QAM1B,SAASA,IACP,OAAOzC,EAAAC,EAAAC,cAAA,KAAGH,UAAU,qBAAb,qCCFT,IAAM2C,EC5BS,WACb,IAAItD,EAAK,KAET,OAAO,SAACuD,GAAD,OAAQ,SAACC,GACdC,aAAazD,GAETwD,EAAO,EACTxD,EAAK0D,WAAWH,EAAIC,GAEpBD,MDmBWI,GAEF,SAASC,IAAM,IAAAC,EACFC,mBAAS,IADPC,EAAAjE,OAAAC,EAAA,EAAAD,CAAA+D,EAAA,GACrB3E,EADqB6E,EAAA,GACdC,EADcD,EAAA,GAAAE,EAEIH,oBAAS,GAFbI,EAAApE,OAAAC,EAAA,EAAAD,CAAAmE,EAAA,GAErBE,EAFqBD,EAAA,GAEXE,EAFWF,EAAA,GAAAG,EAGEP,oBAAS,GAHXQ,EAAAxE,OAAAC,EAAA,EAAAD,CAAAuE,EAAA,GAGrBlC,EAHqBmC,EAAA,GAGZC,EAHYD,EAAA,GAAAE,EAIcV,mBAAS,IAJvBW,EAAA3E,OAAAC,EAAA,EAAAD,CAAA0E,EAAA,GAIrBE,EAJqBD,EAAA,GAINE,EAJMF,EAAA,GAAAG,EAKEd,mBAAS,CACrCxC,MAAO,CAAEb,MAAO,GAAIoE,aAAa,EAAOhD,eAAe,GACvDoB,UAAW,CAAExC,MAAO,GAAIoE,aAAa,EAAOhD,eAAe,GAC3DqB,iBAAkB,CAAEzC,MAAO,GAAIoE,aAAa,GAC5C1B,OAAQ,CAAE1C,MAAO,GAAIoE,aAAa,KATRC,EAAAhF,OAAAC,EAAA,EAAAD,CAAA8E,EAAA,GAKrBnD,EALqBqD,EAAA,GAKZC,EALYD,EAAA,GA0B5B,OAdAE,oBAAU,WACRnG,EAAYoG,aACTlG,KAAK,SAACmG,GAAD,OAAelB,EAASkB,KAC7BnG,KAAK,kBAAMqF,GAAY,MACzB,IAEHY,oBAAU,WACR1B,EAAS,kBAAMiB,GAAW,IAA1BjB,CAAiC,GAEjCqB,EAAiBzF,EAAMiG,OA1C3B,SAA+B1D,GAC7B,IAAM2D,EAAatF,OAAO6B,KAAKF,GAAS0D,OACtC,SAACvD,GAAD,OAAWH,EAAQG,GAAOiD,cAG5B,OAAKO,EAAW7F,OAIT,SAACP,GACN,OAAOoG,EAAWC,KAAK,SAAC9E,GACtB,QAASvB,EAAKuB,GACX+E,WACAC,cACAC,SAAS/D,EAAQlB,GAAOE,MAAM8E,kBAR5B,kBAAM,GAoCiBE,CAAsBhE,KAEpD6B,EAAS,kBAAMiB,GAAW,IAA1BjB,CAAkC,MACjC,CAACpE,EAAOuC,IAGTb,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6E,SAAA,KACE9E,EAAAC,EAAAC,cAACO,EAAD,CACEC,MAAM,sBACNC,YAAY,eACZE,QAASA,EACTC,gBAAiB,SAACnB,EAAOE,GACvBsE,EAAWjF,OAAAM,EAAA,EAAAN,QAAAM,EAAA,EAAAN,CAAA,GACN2B,GADK,IAERkE,CAACpF,GAAQ,CACPE,QACAoE,cAAepE,SAMvBG,EAAAC,EAAAC,cAACkC,EAAD,CAAab,QAASA,GAAWgC,EAAUjF,MAAOwF,KEpExD,IAAMkB,EAAcC,SAASC,eAAe,QAE5CC,IAASC,OAAOpF,EAAAC,EAAAC,cAAC8C,EAAD,MAASgC","file":"static/js/main.86d47779.chunk.js","sourcesContent":["const GEFORCE_URL =\n  'https://static.nvidiagrid.net/supported-public-game-list/gfnpc.json?JSON';\n\nexport default class GameService {\n  static fetchGames() {\n    return fetch(GEFORCE_URL)\n      .then((data) => data.json())\n      .then((games) => games.map(GameService.mapSteam));\n  }\n\n  static mapSteam(game = {}) {\n    const steam = {};\n\n    if (game.steamUrl) {\n      [, steam.id] = game.steamUrl.split('/app/');\n      steam.steamUrl = game.steamUrl;\n      steam.smallImageUrl = `https://steamcdn-a.akamaihd.net/steam/apps/${steam.id}/capsule_184x69.jpg`;\n      steam.imageUrl = `https://steamcdn-a.akamaihd.net/steam/apps/${steam.id}/header.jpg`;\n    }\n\n    return {\n      ...game,\n      steamUrl: undefined,\n      steam: steam.id ? steam : null,\n    };\n  }\n}\n","import React from 'react';\n\nexport default function Input({ label, id, onChange, value, className = '' }) {\n  return (\n    <label className={`input ${className}`} htmlFor={id}>\n      <span className=\"input-label\">{label}</span>\n\n      <input\n        className=\"input-element\"\n        id={id}\n        onChange={onChange}\n        value={value}\n      />\n    </label>\n  );\n}\n","export default function formatLabel(label = '') {\n  return (\n    label.charAt(0).toUpperCase() + label.slice(1).replace(/([A-Z])/g, ' $1')\n  );\n}\n","import React from 'react';\n\nimport Input from 'components/input';\nimport formatLabel from 'utils/format-label';\n\nexport default function Header({\n  title,\n  mobileTitle,\n  filters = {},\n  onChangeFilters,\n}) {\n  return (\n    <header className=\"filters\">\n      <h2 className=\"filters-title\">\n        <div className=\"d-sm-none\">{title}</div>\n        <div className=\"d-none d-sm-block\">{mobileTitle}</div>\n      </h2>\n\n      <div className=\"filters-body\">\n        {Object.keys(filters).map((field) => (\n          <Input\n            className={filters[field].alwaysVisible ? '' : 'd-md-none'}\n            key={field}\n            id={field}\n            label={formatLabel(field)}\n            value={filters[field].value}\n            onChange={(e) => onChangeFilters(field, e.target.value)}\n          />\n        ))}\n      </div>\n    </header>\n  );\n}\n","import React from 'react';\n\nexport default function ApplicationLoading({ children, loading }) {\n  if (loading) {\n    return <div className=\"application-loading\" />;\n  }\n\n  return children;\n}\n","import React from 'react';\n\nconst IMAGE_PLACEHOLDER =\n  'https://via.placeholder.com/468x215?text=Sem informações da steam.';\n\nexport const WithoutSteamLink = () => (\n  <div className=\"steam-container\">\n    <img className=\"steam-image\" src={IMAGE_PLACEHOLDER} alt=\"\" />\n  </div>\n);\n\nexport default function SteamLink({ steam }) {\n  if (!steam) {\n    return <WithoutSteamLink />;\n  }\n\n  return (\n    <a\n      className=\"steam-container\"\n      href={steam.steamUrl}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <img className=\"steam-image\" src={steam.imageUrl} alt=\"\" />\n    </a>\n  );\n}\n","import React from 'react';\n\nexport default function LabelValue({ label, value }) {\n  return (\n    <div>\n      <span className=\"label\">{label}</span>\n      <span className=\"value\">{String(value)}</span>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport SteamLink from 'components/steam-link';\nimport LabelValue from 'components/label-value';\nimport formatLabel from 'utils/format-label';\n\nexport default function CardGame({ game, parameters = {}, className = '' }) {\n  return (\n    <div key={game.id} className={`card-game ${className}`}>\n      <SteamLink steam={game.steam} />\n\n      <div className=\"card-game-body\">\n        {Object.keys(parameters).map((key) => {\n          return (\n            <LabelValue\n              key={key}\n              label={`${formatLabel(key)}:`}\n              value={parameters[key](game[key])}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport ApplicationLoading from 'components/ApplicationLoading';\nimport CardGame from 'components/card-game';\n\nexport default function Application({ loading, games }) {\n  return (\n    <main className=\"application row\">\n      <ApplicationLoading loading={loading}>\n        {!!games.length &&\n          games.map((game) => (\n            <div className=\"col-4\" key={game.id}>\n              <CardGame\n                game={game}\n                parameters={{\n                  title: (value) => value,\n                  publisher: (value) => value,\n                  isFullyOptimized: (value) => value,\n                  genres: (value) => (value ? value.join(', ') : ''),\n                }}\n              />\n            </div>\n          ))}\n        {!games.length && <ApplicationEmpty />}\n      </ApplicationLoading>\n    </main>\n  );\n}\n\nfunction ApplicationEmpty() {\n  return <p className=\"application-empty\">Nenhum jogo foi encontrado.</p>;\n}\n","import React, { useEffect, useState } from 'react';\n\nimport GameService from 'services/games';\nimport Header from 'components/header';\nimport Application from 'components/Application';\n\nimport 'styles.css';\nimport createDebounce from 'utils/debounce';\n\nfunction filtersByFilterObject(filters) {\n  const filledKeys = Object.keys(filters).filter(\n    (field) => filters[field].isFiltering\n  );\n\n  if (!filledKeys.length) {\n    return () => true;\n  }\n\n  return (data) => {\n    return filledKeys.find((label) => {\n      return !!data[label]\n        .toString()\n        .toLowerCase()\n        .includes(filters[label].value.toLowerCase());\n    });\n  };\n}\n\nconst debounce = createDebounce();\n\nexport default function App() {\n  const [games, setGames] = useState([]);\n  const [fetching, setFetching] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [filteredGames, setFilteredGames] = useState([]);\n  const [filters, setFilters] = useState({\n    title: { value: '', isFiltering: false, alwaysVisible: true },\n    publisher: { value: '', isFiltering: false, alwaysVisible: true },\n    isFullyOptimized: { value: '', isFiltering: false },\n    genres: { value: '', isFiltering: false },\n  });\n\n  useEffect(() => {\n    GameService.fetchGames()\n      .then((dataGames) => setGames(dataGames))\n      .then(() => setFetching(false));\n  }, []);\n\n  useEffect(() => {\n    debounce(() => setLoading(true))(0);\n\n    setFilteredGames(games.filter(filtersByFilterObject(filters)));\n\n    debounce(() => setLoading(false))(250);\n  }, [games, filters]);\n\n  return (\n    <>\n      <Header\n        title=\"GeForce-Now | Games\"\n        mobileTitle=\"GF-Now Games\"\n        filters={filters}\n        onChangeFilters={(label, value) => {\n          setFilters({\n            ...filters,\n            [label]: {\n              value,\n              isFiltering: !!value,\n            },\n          });\n        }}\n      />\n\n      <Application loading={loading || fetching} games={filteredGames} />\n    </>\n  );\n}\n","export default function createDebounce() {\n  let id = null;\n\n  return (fn) => (wait) => {\n    clearTimeout(id);\n\n    if (wait > 0) {\n      id = setTimeout(fn, wait);\n    } else {\n      fn();\n    }\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}